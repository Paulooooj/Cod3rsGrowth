<mvc:View xmlns:cards="sap.f.cards" xmlns:vk="sap.ui.vk" 
	xmlns:form="sap.ui.layout.form"
	controllerName="ui5.cod3rsgrowth.app.empresa.DetalhesEmpresa"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
	displayBlock="true">
	<Page title="{i18n>nomeDaPaginaEmpresa.titulo}"  showNavButton="true" navButtonPress="onNavBack"> 
		<customHeader>
			<Toolbar>
			<Button id="idBotaoDeNavegarDeVoltaDetalhes" type="Back" press="onNavBack"></Button>
			 <Title text="{i18n>nomeTituloTelaDetalhes}" titleStyle="H4" class="sapUiResponsiveMargin" ></Title>
			 <ToolbarSpacer />
         <MenuButton 
         icon="sap-icon://action-settings"
         menuPosition="EndBottom"
         type="Transparent">
         <menu>
            <Menu >
               <MenuItem 
               icon="sap-icon://palette">
                  <items>
                     <MenuItem icon="sap-icon://light-mode" text="Claro" press="mudarDeTema"/>
                     <MenuItem icon="sap-icon://dark-mode" text="Escuro" press="mudarDeTema"/>
                  </items>
               </MenuItem>
            </Menu>
         </menu>
         </MenuButton>
			</Toolbar>
		</customHeader>
      <FlexBox class="sapUiResponsiveMargin" justifyContent="SpaceBetween" direction="Column" backgroundDesign="Translucent">
      <Toolbar >
         <Title text="{i18n>nomeToolbarTelaDetahles}" titleStyle="H4"/>
         <ToolbarSpacer />
         <Button 
            icon="sap-icon://edit"
            text="{i18n>botaoEditarDetalhes}"
            id="idBotaoEditarDetalhes"
            press="aoClicarDeveIrParaTelaDeEdicao"/>
            <Button 
            icon="sap-icon://delete"
            text="{i18n>botaoRemoverDetalhes}"
            id="idBotaoRemoverDetalhes"
            press="aoClicarDeveRemoverEmpresa"/>
      </Toolbar>
      <f:DynamicPage id="dynamicPageId" >
         <f:title>
            <f:DynamicPageTitle>
               <f:heading>
                  <Title id="idNomeEmpresaTitulo" text="{empresaDetalhes>/razaoSocial}"/>
               </f:heading>
            </f:DynamicPageTitle>
         </f:title>
         <f:header>
            <f:DynamicPageHeader pinnable="false"  >
               <FlexBox alignItems="Start" justifyContent="SpaceBetween">
                     <layout:HorizontalLayout allowWrapping="true">
                        <layout:VerticalLayout class="sapUiMediumMarginEnd" >
                           <ObjectStatus id = "idCnpjDetalhes" title="{i18n>labelTelaDetalhes.cnpj}" text="{path: 'empresaDetalhes>/cnpj', formatter: '.formatter.formatarCnpj'}" />
                           <ObjectStatus title="{i18n>labelTelaDetalhes.ramo}" text="{empresaDetalhes>/ramo}" />
                           </layout:VerticalLayout>
                     </layout:HorizontalLayout>
               </FlexBox>
            </f:DynamicPageHeader>
         </f:header>
      </f:DynamicPage>
         <Table
         busyIndicatorDelay="5"
         class="sapUiResponsiveMargin"
         alternateRowColors="true"
         growing="true"
         growingThreshold="20"
         sticky="ColumnHeaders,HeaderToolbar"
         width="auto"
         fixedLayout="false"
         autoPopinMode="true"
         hiddenInPopin="None"
         updateFinished="atualizarTitulo"
         items="{listaProduto>/}">
         <headerToolbar>
            <Toolbar>
               <Title text="{i18n>tituloTabelaProduto}" titleStyle="H4"/>
               <ToolbarSpacer/>
               <SearchField 
               width="25%"
               placeholder="{i18n>barraPesquisa}"
               liveChange="buscarPorProduto"
              />
               <ToolbarSeparator />
               <Button 
               icon="sap-icon://filter"
               press="handleViewSettingsDialogPress"/>
               <ToolbarSeparator />
               <Button
               text="Adicionar"
               enabled="true"
               icon="sap-icon://sys-add"
              />
            </Toolbar>
         </headerToolbar>
         <columns> 
            <Column 
            minScreenWidth="Small"
            demandPopin="true"
            vAlign="Middle"
            hAlign="Begin">
               <header>
                  <Label text="{i18n>tabelaFilho.nome}" />
               </header>
            </Column>
            <Column 
            minScreenWidth="Small"
            demandPopin="true"
            vAlign="Middle"
            hAlign="Center">
               <header>
                  <Label text="{i18n>tabelaFilho.valorProduto}"/>
               </header>
            </Column>
            <Column 
            minScreenWidth="Small"
            demandPopin="true"
            vAlign="Middle"
            hAlign="Center">
               <header>
                  <Label text="{i18n>tabelaFilho.dataCadastro}"/>
               </header>
            </Column>
            <Column 
            minScreenWidth="Small"
            demandPopin="true"
            vAlign="Middle"
            hAlign="Center">
               <header>
                  <Label text="{i18n>tabelaFilho.temDataValidade}"/>
               </header>
            </Column>
            <Column 
            minScreenWidth="Small"
            demandPopin="true"
            vAlign="Middle"
            hAlign="Center">
               <header>
                  <Label text="{i18n>tabelaFilho.dataValidade}"/>
               </header>
            </Column>
         </columns>
         <items>
            <ColumnListItem type="Navigation">
               <cells>
                  <ObjectIdentifier title="{listaProduto>nome}"/>
                  <Text text="{
                     path: 'listaProduto>valorDoProduto',
                     formatter: '.formatter.formatarValoresProduto'}"/>
                  <Text text="{
                     path: 'listaProduto>dataCadastro',
                     type: 'sap.ca.ui.model.type.Date',
                     formatOptions: {pattern: 'dd/MM/YYYY'}
                  }"/>
                  <Text text="{listaProduto>temDataValidade}"/>
                  <Text text="{
                        path: 'listaProduto>dataValidade',
                        type: 'sap.ca.ui.model.type.Date',
                        formatOptions: {pattern: 'dd/MM/YYYY'}
                     }"/>  
               </cells>
            </ColumnListItem>
         </items>
        </Table>
   </FlexBox>
		</Page>
</mvc:View>